## 阿里云新建k8s集群

#### 1.网络创建（如已有网络规划则忽略）

~~~bash
1）登陆阿里云
2）打开`专有网络VPC`
3）选择`地域`
4）创建`专有网络`
5）创建`交换机`
    - 创建三台虚拟交换机为node节点提供网络，掩码24位，选择不同可用区
    - 创建三台虚拟交换机为pod节点提供网络，掩码19位，选择不同可用区
~~~

### 2.创建集群

~~~bash
1）打开`容器服务-Kubernetes`
2）点击`创建集群`
3）选择`ACK托管版`
4）集群名称为`项目名称-环境`
5）集群规格`标准版`
6）地域为专有网络规划地
7）付费类型`按量付费`
8）Kubernetes版本为最新版
9）容器运行时`containerd`
10）专有网络为之前创建或规划的
11）网络插件`Terway` 勾选IPvlan
12）虚拟交换机及pod虚拟交换机，勾选之前创建的
13）Service CIDR 默认
14）SNAT视需求选择或取消 默认取消
15）API Server依据集群大小选择规格 默认选择slb.s2.small 不使用EIP
16）普通安全组
17）下一步
18）实例规格按照 预估使用量/5节点 来计算 #过少的节点会有因节点宕机导致服务不可用的风险
19）数量依据实例规格计算时的节点数量填写 至少5节点
20）系统盘40G 添加一块数据盘100G 统一选择ESSD 数据盘根据node配置的增加而增加
21）下一步
22）ingress不安装
23）服务发现 勾选
24）存储插件 勾选
25）监控插件 取消
26）报警配置 取消
27）日志服务 取消
28）下一步
29）创建集群
~~~



